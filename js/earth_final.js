import*as THREE from"https://unpkg.com/three@0.108.0/build/three.module.js";import{OrbitControls}from"https://unpkg.com/three@0.108.0/examples/jsm/controls/OrbitControls.js";let scene,camera,renderer,earth,moon,cloud,controls,WIDTH=window.innerWidth,HEIGHT=window.innerHeight,next=document.getElementById("canvasWrap");const init=()=>{scene=new THREE.Scene,scene.background=(new THREE.TextureLoader).load("./img/night.png"),camera=new THREE.PerspectiveCamera(75,WIDTH/HEIGHT,.1,1e3),camera.position.set(100,0,0),renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setSize(WIDTH,HEIGHT),renderer.setClearColor(0),document.querySelector("#canvasWrap").appendChild(renderer.domElement),document.body.appendChild(renderer.domElement),controls=new OrbitControls(camera,renderer.domElement),controls.minDistance=200,controls.maxDistance=500,controls.autoRotate=!0,controls.autoRotateSpeed=5.5,controls.minPolarAngle=Math.radians(40),controls.maxPolarAngle=Math.radians(120),controls.enableDamping=!0;new THREE.AxesHelper(150),new THREE.GridHelper(240,20);(new THREE.TextureLoader).load((e=>{const n=new THREE.MeshBasicMaterial({map:e,side:THREE.BackSide}),t=new THREE.SphereGeometry(200,64,64),r=new THREE.Mesh(t,n);scene.add(r)}));const e=(new THREE.TextureLoader).load("./img/expo.jpg"),n=new THREE.MeshPhongMaterial({map:e}),t=new THREE.SphereGeometry(40,64,64);earth=new THREE.Mesh(t,n),earth.rotation.y=.1,earth.autoRotate=!0,scene.add(earth);const r=(new THREE.TextureLoader).load(""),o=new THREE.MeshPhongMaterial({map:r,transparent:!0,opacity:.6}),a=new THREE.SphereGeometry(82,32,32);cloud=new THREE.Mesh(a,o);const i=(new THREE.TextureLoader).load("./img/moon.jpg"),s=new THREE.SphereGeometry(6,32,32),d=new THREE.MeshPhongMaterial({map:i});moon=new THREE.Mesh(s,d),moon.position.set(1,1,1);var E=new THREE.HemisphereLight(16777215,526368,1.1),m=new THREE.HemisphereLight(16777215,526368,.5);E.position.set(100,100,0),m.position.set(-200,-200,0),scene.add(E,m);const c=new THREE.HemisphereLightHelper(E,15);scene.add(c);new THREE.GridHelper(240,20)};let time=0;const d=120,animate=()=>{earth.rotation.y+=5e-4,cloud.rotation.y+=2e-4,moon.rotation.y+=.01,time+=.001,moon.position.x=Math.sin(time)*d,moon.position.z=Math.cos(time)*d,controls.update(),renderer.render(scene,camera),requestAnimationFrame(animate)},stageResize=()=>{WIDTH=window.innerWidth,HEIGHT=window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(WIDTH,HEIGHT),camera.aspect=WIDTH/HEIGHT};function test(){console.log("ds")}Math.radians=e=>e*Math.PI/180,next.addEventListener("click",test),init(),animate(),window.addEventListener("resize",stageResize);